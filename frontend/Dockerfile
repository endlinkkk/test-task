# Используем базовый образ Node.js
FROM node:21-alpine

# Устанавливаем рабочую директорию
WORKDIR /app

# Копируем package.json и устанавливаем зависимости
COPY package.json .
RUN npm install

# Копируем остальные файлы проекта
COPY . .

# Собираем продакшн версию приложения
RUN npm run build

# Устанавливаем порт для экспорта
EXPOSE 5173

# Запускаем сервер для статических файлов
CMD ["npm", "run", "dev", "--", "--host", "0.0.0.0"]
